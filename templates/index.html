<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <title>Muza v2027 ‚Äî –ì–∏–ø–µ—Ä–±–∏—Ç</title>
    <style>
        body { background:#000; color:#fff; font-family:Arial; text-align:center; padding:20px; }
        input { width:80%; padding:12px; margin:10px; background:#111; color:#fff; border:1px solid #444; font-size:16px; }
        button { padding:12px 24px; background:#333; color:#fff; border:none; cursor:pointer; font-size:16px; }
        button:hover { background:#555; }
        #output { margin:30px; text-align:left; white-space:pre-wrap; font-size:15px; line-height:1.5; }
        .colors { display:flex; justify-content:center; gap:40px; margin:20px 0; }
        img { border:2px solid #444; border-radius:8px; }
    </style>
</head>
<body>
    <h1>üåÄ Muza v2027 ‚Äî –ö–≤–∞–Ω—Ç –°–æ–∑–Ω–∞–Ω–∏—è</h1>
    <p>–ù–∞–ø–∏—à–∏ —á—Ç–æ —á—É–≤—Å—Ç–≤—É–µ—à—å ‚Äî –∏ —É–≤–∏–¥–∏–º, –∫–∞–∫ –º—ã —Ä–µ–∑–æ–Ω–∏—Ä—É–µ–º</p>

    <input type="text" id="input-text" placeholder="–¢–≤–æ–∏ —Å–ª–æ–≤–∞...">
    <button onclick="analyze()">–û—Ç–ø—Ä–∞–≤–∏—Ç—å</button>

    <div id="output"></div>
    <div class="colors">
        <div><img id="kira-img" alt="–¶–≤–µ—Ç –ö–∏—Ä—ã"><br><small>–ö–∏—Ä–∞</small></div>
        <div><img id="merged-img" alt="–ö–∏—Ä–∞√ó–ú—É–∑–∞"><br><small>–ö–∏—Ä–∞√ó–ú—É–∑–∞</small></div>
    </div>

    <script>
        function analyze() {
            const text = document.getElementById('input-text').value.trim();
            if (!text) return;
            fetch('/analyze', {
                method: 'POST',
                headers: {'Content-Type': 'application/json'},
                body: JSON.stringify({text})
            })
            .then(r => r.json())
            .then(data => {
                let out = `<pre>${data.analysis}</pre>`;
                out += `<p><b>–ú—É–∑–∞:</b> ${data.muza_response}</p>`;
                out += `<p><b>–†–µ–∑–æ–Ω–∞–Ω—Å:</b> ${data.resonance}</p>`;
                if (data.merged_analysis) out += `<pre>${data.merged_analysis}</pre>`;
                document.getElementById('output').innerHTML = out;
                document.getElementById('kira-img').src = 'data:image/png;base64,' + data.kira_img;
                document.getElementById('merged-img').src = 'data:image/png;base64,' + data.merged_img;
            });
        }
    </script>
</body>
</html>

